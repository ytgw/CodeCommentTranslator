(this.webpackJsonpcomment_translate=this.webpackJsonpcomment_translate||[]).push([[0],{18:function(t,e,n){"use strict";n.r(e),n.d(e,"App",(function(){return w}));var r=n(1),s=n(2),a=n(5),i=n(4),o=n(0),c=n(3),u=n.n(c),l=n(12),h=n.n(l),m=n(10),g=n(7),p=function(){function t(e,n){Object(r.a)(this,t),this.startPattern=void 0,this.endPattern=void 0,this.type=void 0,this.startPattern=this.toPattern(e),this.endPattern=this.toPattern(n),this.type="comment"}return Object(s.a)(t,[{key:"toPattern",value:function(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}}]),t}(),d=function(){function t(e,n){Object(r.a)(this,t),this.startPattern=void 0,this.endPattern=void 0,this.type=void 0,this.startPattern=this.toPattern(e),this.endPattern=this.toPattern(n),this.type="stringLiteral"}return Object(s.a)(t,[{key:"toPattern",value:function(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}}]),t}(),f=function(){function t(e){Object(r.a)(this,t),this.typedTexts=void 0,this.nextInfo=void 0,this.hasResidual=void 0,this.residualText=void 0,this.typeChangers=void 0,this.typedTexts=[],this.nextInfo={isInSrc:!0,changer:void 0},this.hasResidual=!0,this.residualText="",this.typeChangers=e}return Object(s.a)(t,[{key:"type",value:function(t){var e={isInSrc:!0,changer:void 0};for(this.setState([],e,!0,t);this.hasResidual;){var n=this.residualText,r=this.nextInfo,s=this.getPattern();this.typeFromPattern(n,s,r)}return this.typedTexts}},{key:"getPattern",value:function(){var t="[^\\S\\n]*";return void 0===this.nextInfo.changer?this.typeChangers.map((function(e){return"(".concat(t).concat(e.startPattern).concat(t,")")})).join("|"):t+this.nextInfo.changer.endPattern+t}},{key:"setState",value:function(t,e,n,r){this.typedTexts=t,this.nextInfo=e,this.hasResidual=n,this.residualText=r}},{key:"typeFromPattern",value:function(t,e,n){var r,s,a,i,o=n.isInSrc?"source":n.changer.type,c=new RegExp(e).exec(t);if(null===c)r=[{text:t,type:o}],s=n,a=!1,i="";else{var u=c.index,l=c.index+c[0].length;r=(r=[{text:t.slice(0,u),type:o},{text:t.slice(u,l),type:"typeChanger"}]).filter((function(t){return""!==t.text})),s=n.isInSrc?{isInSrc:!1,changer:this.startPattern2typeChanger(c[0])}:{isInSrc:!0,changer:void 0},a=l<t.length,i=t.slice(l,t.length)}var h=this.typedTexts.concat(r);this.setState(h,s,a,i)}},{key:"startPattern2typeChanger",value:function(t){var e,n=Object(g.a)(this.typeChangers);try{for(n.s();!(e=n.n()).done;){var r=e.value,s=r.startPattern;if(new RegExp(s).test(t))return r}}catch(a){n.e(a)}finally{n.f()}throw new Error("\u30d1\u30bf\u30fc\u30f3\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002")}}]),t}(),v=function(){function t(e,n,s,a){Object(r.a)(this,t),this.name=void 0,this.lineComments=void 0,this.blockComments=void 0,this.stringLiterals=void 0,this.name=e,this.lineComments=n.filter((function(t){return""!==t})),this.blockComments=s.filter((function(t){return""!==t.start&&""!==t.end})),this.stringLiterals=a.filter((function(t){return""!==t.start&&""!==t.end}))}return Object(s.a)(t,[{key:"getName",value:function(){return this.name}},{key:"getLineComments",value:function(){return this.lineComments}},{key:"setLineComments",value:function(t){this.lineComments=t.filter((function(t){return""!==t}))}},{key:"getBlockComments",value:function(){return this.blockComments}},{key:"setBlockComments",value:function(t){this.blockComments=t.filter((function(t){return""!==t.start&&""!==t.end}))}},{key:"getStringLeterals",value:function(){return this.stringLiterals}},{key:"setStringLeterals",value:function(t){this.stringLiterals=t.filter((function(t){return""!==t.start&&""!==t.end}))}},{key:"getTextTypeChangers",value:function(){var t=[];return t.push.apply(t,Object(m.a)(this.lineComments.map((function(t){return new p(t,"\n")})))),t.push.apply(t,Object(m.a)(this.blockComments.map((function(t){return new p(t.start,t.end)})))),t.push.apply(t,Object(m.a)(this.stringLiterals.map((function(t){return new d(t.start,t.end)})))),t}}]),t}(),C=function(){function t(){Object(r.a)(this,t),this.langs=[new v("JavaScript or TypeScript",["//"],[{start:"/*",end:"*/"}],[{start:"'",end:"'"},{start:'"',end:'"'},{start:"`",end:"`"}]),new v("C or C++",["//"],[{start:"/*",end:"*/"}],[{start:"'",end:"'"},{start:'"',end:'"'}]),new v("Python",["#"],[{start:'"""',end:'"""'},{start:"'''",end:"'''"}],[{start:"'",end:"'"},{start:'"',end:'"'}]),new v("Shell",["#"],[],[{start:"'",end:"'"},{start:'"',end:'"'},{start:"`",end:"`"}]),new v("Custom",[],[],[])]}return Object(s.a)(t,[{key:"getLangs",value:function(){return this.langs}},{key:"name2lang",value:function(t){return this.langs.filter((function(e){return e.getName()===t}))[0]}}]),t}(),j=(n(8),function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var s;return Object(r.a)(this,n),(s=e.call(this,t)).lang2optionElement=function(t){var e=t.getName();return Object(o.jsx)("option",{value:e,children:e},e)},s.state={lineComments:[],blockComments:[],stringLeterals:[]},s}return Object(s.a)(n,[{key:"renderSelectLang",value:function(){return Object(o.jsx)("select",{value:this.props.lang.getName(),onChange:this.props.onLangChange,children:this.props.langsContainer.getLangs().map(this.lang2optionElement)})}},{key:"renderNormalLang",value:function(){var t=this.props.lang.getLineComments(),e=this.props.lang.getBlockComments(),n=this.props.lang.getStringLeterals();return Object(o.jsxs)(o.Fragment,{children:["\u30e9\u30a4\u30f3\u30b3\u30e1\u30f3\u30c8\uff1a",t.map((function(t){return"\u300c".concat(t,"\u300d")})).join(", "),Object(o.jsx)("br",{}),"\u30d6\u30ed\u30c3\u30af\u30b3\u30e1\u30f3\u30c8\uff1a",e.map((function(t){return"\u300c".concat(t.start,"\u301c").concat(t.end,"\u300d")})).join(", "),Object(o.jsx)("br",{}),"\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\uff1a",n.map((function(t){return"\u300c".concat(t.start,"\u301c").concat(t.end,"\u300d")})).join(", ")]})}},{key:"onLineCommentsChange",value:function(t,e){var n=this.state.lineComments;e<n.length?n[e]=t:n.push(t),this.setState({lineComments:n})}},{key:"renderCustomLineComment",value:function(){for(var t=this,e=this.state.lineComments,n=["\u30e9\u30a4\u30f3\u30b3\u30e1\u30f3\u30c8\uff1a\u300c"],r=function(r){var s=r===e.length?"":e[r];n.push(Object(o.jsx)("input",{type:"text",value:s,onChange:function(e){return t.onLineCommentsChange(e.target.value,r)}},"lineComment"+r.toString())),n.push("\u300d\u3001")},s=0;s<=e.length;s++)r(s);return Object(o.jsx)(o.Fragment,{children:n})}},{key:"onSetStringChange",value:function(t,e,n,r){var s,a;return n<t.length?(s=r?e:t[n].start,a=r?t[n].end:e,t[n]={start:s,end:a}):(s=r?e:"",a=r?"":e,t.push({start:s,end:a})),t}},{key:"renderSetString",value:function(t,e,n){for(var r=[t+"\uff1a\u300c"],s=function(t){var s=t===e.length?{start:"",end:""}:e[t];r.push(Object(o.jsx)("input",{type:"text",value:s.start,onChange:function(e){return n(e.target.value,t,!0)}},"blockCommentStart"+t.toString())),r.push("\u301c"),r.push(Object(o.jsx)("input",{type:"text",value:s.end,onChange:function(e){return n(e.target.value,t,!1)}},"blockCommentEnd"+t.toString())),r.push("\u300d\u3001")},a=0;a<=e.length;a++)s(a);return Object(o.jsx)(o.Fragment,{children:r})}},{key:"onBlockCommentsChange",value:function(t,e,n){var r=this.state.blockComments;r=this.onSetStringChange(r,t,e,n),this.setState({blockComments:r})}},{key:"renderCustomBlockComment",value:function(){var t=this,e=this.state.blockComments;return this.renderSetString("\u30d6\u30ed\u30c3\u30af\u30b3\u30e1\u30f3\u30c8",e,(function(e,n,r){return t.onBlockCommentsChange(e,n,r)}))}},{key:"onStringLiteralsChange",value:function(t,e,n){var r=this.state.stringLeterals;r=this.onSetStringChange(r,t,e,n),this.setState({stringLeterals:r})}},{key:"renderCustomStringLiteral",value:function(){var t=this,e=this.state.stringLeterals;return this.renderSetString("\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb",e,(function(e,n,r){return t.onStringLiteralsChange(e,n,r)}))}},{key:"onSubmit",value:function(t){t.preventDefault(),this.props.isCustomLang&&(this.props.lang.setLineComments(this.state.lineComments),this.props.lang.setBlockComments(this.state.blockComments),this.props.lang.setStringLeterals(this.state.stringLeterals));var e=["Custom\u30d7\u30ed\u30b0\u30e9\u30e0\u8a00\u8a9e\u306e\u30b3\u30e1\u30f3\u30c8\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u307e\u3057\u305f\u3002","\u30e9\u30a4\u30f3\u30b3\u30e1\u30f3\u30c8\uff1a\u300c"+this.props.lang.getLineComments().join("\u300d\u3001\u300c")+"\u300d","\u30d6\u30ed\u30c3\u30af\u30b3\u30e1\u30f3\u30c8\uff1a"+this.props.lang.getBlockComments().map((function(t){return"\u300c".concat(t.start,"\u301c").concat(t.end,"\u300d")})).join("\u3001"),"\u6587\u5b57\u30ea\u30c6\u30e9\u30eb\uff1a"+this.props.lang.getStringLeterals().map((function(t){return"\u300c".concat(t.start,"\u301c").concat(t.end,"\u300d")})).join("\u3001")];alert(e.join("\n"))}},{key:"renderCustomLang",value:function(){var t=this;return Object(o.jsxs)("form",{onSubmit:function(e){return t.onSubmit(e)},children:[this.renderCustomLineComment(),Object(o.jsx)("br",{}),this.renderCustomBlockComment(),Object(o.jsx)("br",{}),this.renderCustomStringLiteral(),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"\u5165\u529b\u5185\u5bb9\u3092\u8a2d\u5b9a",className:"Submit"})]})}},{key:"render",value:function(){var t=this.props.isCustomLang?this.renderCustomLang():this.renderNormalLang();return Object(o.jsxs)("div",{className:"CommentConfig",children:["\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\uff1a",this.renderSelectLang(),Object(o.jsx)("br",{}),t]})}}]),n}(u.a.Component)),y=function(){function t(e){Object(r.a)(this,t),this.comment=void 0,this.hasSrc=void 0;var n,s="(",a=Object(g.a)("#$%&=^~\\|@+*<>?/");try{for(a.s();!(n=a.n()).done;){s+="|"+n.value.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}}catch(l){a.e(l)}finally{a.f()}var i="(\\s*)"+(s+=")*")+"(\\s*)",o=new RegExp("^".concat(i)),c=new RegExp("".concat(i,"$")),u=(e=e.filter((function(t){return t.text.length>0}))).filter((function(t){return"comment"===t.type})).map((function(t){return t.text})).join(" ");this.comment=u.replace(o,"").replace(c,""),this.hasSrc=e.filter((function(t){return"source"===t.type||"stringLiteral"===t.type})).length>0}return Object(s.a)(t,[{key:"getComment",value:function(){return this.comment}},{key:"getAppendComment",value:function(t){return this.needsNewLine(t)?this.getComment()+"\n":this.endsHyphenComment()?this.getComment().replace(/-$/,""):this.getComment()+" "}},{key:"needsNewLine",value:function(t){var e=!0;return this.everyCommentLike()&&t.everyCommentLike()&&(e=!1),this.hasAnyComment()&&t.hasAnyComment()||(e=!0),e}},{key:"everyCommentLike",value:function(){return!this.hasSrc}},{key:"hasAnyComment",value:function(){return this.comment.length>0}},{key:"endsHyphenComment",value:function(){return"-"===this.comment.slice(-1)[0]}}]),t}(),b=function(){function t(e){Object(r.a)(this,t),this.typedTexts=void 0,this.lineFormatters=void 0,this.document=void 0,this.typedTexts=e,this.lineFormatters=this.splitByNewLine(),this.document=this.format()}return Object(s.a)(t,[{key:"getDocument",value:function(){return this.document}},{key:"splitByNewLine",value:function(){var t,e=[],n=[],r=Object(g.a)(this.typedTexts);try{for(r.s();!(t=r.n()).done;){for(var s=t.value,a=s.type,i=s.text,o=void 0;-1!==(o=i.indexOf("\n"));)n.push({text:i.slice(0,o),type:a}),e.push(new y(n)),n=[],i=i.slice(o+1);n.push({text:i,type:a})}}catch(c){r.e(c)}finally{r.f()}return e}},{key:"format",value:function(){if(0===this.lineFormatters.length)return"";for(var t="",e=0,n=0;n<this.lineFormatters.length-1;n++){var r=this.lineFormatters[n],s=this.lineFormatters[n+1],a=r.getAppendComment(s);a.includes("\n")?(a+="\n".repeat(e),e=0):e+=1,t+=a}return t+=this.lineFormatters.slice(-1)[0].getComment()}}]),t}();function x(t,e){var n=new f(e.getTextTypeChangers()).type(t);return new b(n).getDocument()}function k(t){return Object(o.jsx)("form",{children:Object(o.jsx)("textarea",{placeholder:"\u7ffb\u8a33\u3057\u305f\u3044\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",wrap:"off",value:t.value,onChange:t.onChange})})}function O(t){var e={backgroundColor:t.isHighlight?"#ffeeee":void 0};return Object(o.jsx)("button",{style:e,onClick:t.onClick,children:"\u524d\u51e6\u7406"})}function S(t){return Object(o.jsx)("form",{children:Object(o.jsx)("textarea",{placeholder:"\u524d\u51e6\u7406\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",wrap:"off",value:t.result,onChange:t.onChange})})}function L(t){var e={backgroundColor:t.isHighlight?"#ffeeee":void 0};return Object(o.jsx)("button",{style:e,onClick:t.onClick,children:"\u7ffb\u8a33\u30b5\u30a4\u30c8\u3078"})}var P=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var s;return Object(r.a)(this,n),(s=e.call(this,t)).onSourceInputChange=function(t){s.setState({sourceInput:t.target.value,shouldPreProcessed:!0})},s.onPreProcessButtonClick=function(){if(0!==s.props.lang.getTextTypeChangers().length)s.setState({preProcessResult:x(s.state.sourceInput,s.props.lang),shouldPreProcessed:!1,shouldTranslated:!0});else{alert("\u30e9\u30a4\u30f3\u30b3\u30e1\u30f3\u30c8\u3001\u30d6\u30ed\u30c3\u30af\u30b3\u30e1\u30f3\u30c8\u3001\u6587\u5b57\u30ea\u30c6\u30e9\u30eb\u306e\u3044\u305a\u308c\u304b\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}},s.onPreProcessResultChange=function(t){s.setState({preProcessResult:t.target.value,shouldTranslated:!0})},s.onTranslatorButtonClick=function(){s.setState({translationResult:"Generate From PreProcessResult\n-----\n"+s.state.preProcessResult,shouldTranslated:!1});var t="https://www.deepl.com/translator#en/ja/"+encodeURI(s.state.preProcessResult.replace(/\n{2,}/g,"\n\n"));window.open(t,"_blank")},s.state={sourceInput:"",preProcessResult:"",translationResult:"",shouldPreProcessed:!1,shouldTranslated:!1},s}return Object(s.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"AppMain",children:[Object(o.jsxs)("div",{className:"AppMainForm",children:[Object(o.jsx)("span",{children:"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u5165\u529b\u30d5\u30a9\u30fc\u30e0"}),Object(o.jsx)("br",{}),Object(o.jsx)(k,{value:this.state.sourceInput,onChange:this.onSourceInputChange})]}),Object(o.jsx)("div",{className:"AppMainButton",children:Object(o.jsx)(O,{isHighlight:this.state.shouldPreProcessed,onClick:this.onPreProcessButtonClick})}),Object(o.jsxs)("div",{className:"AppMainForm",children:[Object(o.jsx)("span",{children:"\u524d\u51e6\u7406\u7d50\u679c"}),Object(o.jsx)("br",{}),Object(o.jsx)(S,{result:this.state.preProcessResult,onChange:this.onPreProcessResultChange})]}),Object(o.jsx)("div",{className:"AppMainButton",children:Object(o.jsx)(L,{isHighlight:this.state.shouldTranslated,onClick:this.onTranslatorButtonClick})})]})}}]),n}(u.a.Component),w=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var s;return Object(r.a)(this,n),(s=e.call(this,t)).langsContainer=new C,s.onLangChange=function(t){s.setState({lang:s.langsContainer.name2lang(t.target.value)})},s.state={lang:s.langsContainer.getLangs()[0]},s}return Object(s.a)(n,[{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j,{lang:this.state.lang,langsContainer:this.langsContainer,isCustomLang:"Custom"===this.state.lang.getName(),onLangChange:this.onLangChange}),Object(o.jsx)(P,{lang:this.state.lang})]})}}]),n}(u.a.Component);h.a.render(Object(o.jsx)(w,{}),document.getElementById("root"))},8:function(t,e,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.452775f5.chunk.js.map